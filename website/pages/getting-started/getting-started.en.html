<h2 class="mt-0">Getting Started</h2>

<p>On this page you'll find instructions on how to install the Pages package and how to set up GitHub actions to deploy your website.</p>




<h3 class="text-2xl font-semibold">How to Install the Pages Package</h3>
<p>
  Follow the instructions below to install the Pages package from GitHub:
</p>
<ol class="list-decimal pl-6">
  <li class="mt-2">
    <strong class="pr-1">Install Node.js:</strong>
    Ensure you have Node.js installed on your machine.
    You can download it from the&nbsp;<a href="https://nodejs.org/" class="text-blue-500 dark:text-blue-200 underline">official Node.js website</a>.
  </li>
  <li class="mt-2">
    <strong class="pr-1">Open Your Terminal:</strong>
    Launch your terminal or command prompt.
  </li>
  <li class="mt-2">
    <strong class="pr-1">Run the Installation Command:</strong>
    <pre class="bg-gray-200 dark:bg-gray-600 p-2 rounded mt-2"><code>npm install @plushveil/pages</code></pre>
  </li>
  <li class="mt-2">
    <strong class="pr-1">Verify Installation:</strong>
    After installation, verify that the package is added to your <code>node_modules</code> directory and listed in your <code>package.json</code> file.
  </li>
  <li class="mt-2">
    <strong class="pr-1">Add the <code>pages</code> command to Your <code>package.json</code> File:</strong>
    Add the following line to your <code>scripts</code> section in your <code>package.json</code> file:
    <pre class="bg-gray-200 dark:bg-gray-600 p-2 rounded mt-2">${JSON.stringify({ "scripts": { "pages": "pages" } }, null, 2)}</pre>
  </li>
</ol>

<p>You can now use <code>npm run pages -- serve .</code> to serve your website locally.</p>




<h3 class="text-2xl font-semibold">Using the Pages GitHub Action</h3>
<p>
  This setup allows you to automate the deployment process, making it easier to keep your site updated with every change you make.
</p>
<p>
  To configure the Pages GitHub Action, you'll need to include it in your workflow YAML file (usually found in the <code>.github/workflows/</code> directory of your repository). For more details, you can refer to the <a href="https://docs.github.com/en/actions" class="text-blue-500 dark:text-blue-200 underline mx-1">GitHub Actions documentation</a> and the <a href="https://github.com/plushveil/pages/blob/latest/action.yml" class="text-blue-500 dark:text-blue-200 underline ml-1">Pages GitHub Action repository</a>.
</p>
<p>Below is an example configuration for the Pages GitHub Action:</p>



<h4 class="text-xl font-semibold mt-6">Example Configuration</h4>
<pre class="bg-gray-200 dark:bg-gray-600 p-4 rounded mt-4 font-mono">
name: Build and Deploy

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - id: build
        uses: plushveil/pages@latest
        with:
          folder: '.'
          config: 'pages.config.mjs'
        env:
          HOST: website.example
          PORT: 443
          PATHNAME: /

      - id: deploy
        run: |
          cp -r \${{steps.build.outputs.folder}}/* .
</pre>



<h4 class="text-xl font-semibold mt-6">Breakdown of the GHA steps</h4>

<ol class="list-decimal pl-6 mt-4">
  <li class="mt-2">
    <strong class="pr-1">Checkout Step:</strong>
    Uses <code>actions/checkout</code> to retrieve the repository code.
  </li>
  <li class="mt-2">
    <strong class="pr-1">Build Step:</strong>
    Specifies the Pages action with <code>uses: plushveil/pages@latest</code>, which will build your website.
    The <code>with</code> block defines the folder where your static site files are located.
    The <code>env</code> block Sets <code>HOST</code>, <code>PORT</code>, and <code>PATHNAME</code>.
  </li>
  <li class="mt-2">
    <strong class="pr-1">Deploy Step:</strong>
    Copies the built files from the Pages actions output folder to the root directory.
  </li>
</ol>

<p>
  Once you have set up the above configuration in your workflow file, the GitHub Action will automatically run whenever you push changes to the <code>main</code> branch.
  This action will not deploy your site to a server, but it will build the static files that you can then deploy to your server yourself.
</p>



<h3>Running the Pages Container</h3>

<p>
  You can also extend the Pages image to run your website in a container. Below is an example Dockerfile that copies your website files to the container and exposes the default Pages port.
</p>

<pre class="bg-gray-200 dark:bg-gray-600 p-4 rounded mt-4 font-mono">
# Use the latest Pages image
FROM ghcr.io/plushveil/pages:latest

# Set the base URI for the website
ARG BASEURI

# Copy the website files to the container
COPY . /var/www/html

# Expose the default Pages port (optional)
EXPOSE 8080
</pre>

<p>
  You can build the Docker image using the following command:
  <code>docker build -t example-org --build-arg BASEURI=https://example.org/ .</code>
</p>
