<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="canonical" href="/">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self';" />
    <meta http-equiv="Refresh" content="1; url=${new URL('en/', config.baseURI)}">
    <meta name="robots" content="noindex">
  </head>
  <body>
    <script data-languages="${languages}">
      const baseURI = document.head.querySelector('link[rel="canonical"]').href
      const availableLanguages = document.currentScript.getAttribute('data-languages').split(',')
      const language = navigator.language.split('-')[0]
      if (!availableLanguages.includes(language)) window.location.href = new URL('en/', baseURI)
      else window.location.href = new URL(language + '/', baseURI)
    </script>

    You will be redirected to the translated version of the website in a moment.<br>
    If you are not redirected, please click&nbsp;<a href="${new URL('en/', config.baseURI)}">here</a>.
  </body>
</html>

<script target="html">
  import { getLanguages } from './scripts/translations.mjs'
  export const languages = await getLanguages()
</script>
